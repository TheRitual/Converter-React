(this["webpackJsonpconverter-react"]=this["webpackJsonpconverter-react"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(7),r=c.n(a),i=(c(14),c(6)),l=c.n(i),o=c(8),u=c(2),d=c(9),j=(c(16),c(17),c(0)),b=function(){var e=Object(n.useState)((new Date).toISOString()),t=Object(u.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){var e=setInterval((function(){s((new Date).toISOString())}),100);return function(){clearInterval(e)}}),[]),Object(j.jsxs)("section",{className:"clock",children:[Object(j.jsx)("div",{className:"clock__information",children:new Date(c).toLocaleString(void 0,{month:"long",weekday:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}),Object(j.jsx)("progress",{value:new Date(c).getMilliseconds()+1e3*new Date(c).getSeconds(),max:"60000",className:"clock__bar"})]})},v=function(e){var t=e.valuePLN,c=e.valueCUR,s=e.setValueCUR,a=e.setValuePLN,r=e.setRate,i=e.rate,l=e.setCurrency,o=e.getBid,u=e.setSavedList,v=e.currency,m=e.savedList,O=e.currencyList;Object(n.useEffect)((function(){r(o(v)),s(Number(t/i).toFixed(2))}),[v,i]);return Object(j.jsxs)("section",{className:"converter",children:[Object(j.jsx)("h2",{className:"converter__header",children:"Converter"}),Object(j.jsx)(b,{}),Object(j.jsxs)("form",{className:"converter__form",onSubmit:function(e){e.preventDefault(),u([{valPLN:Number(t).toFixed(2),valCUR:Number(c).toFixed(2),id:m.length?m[0].id+1:0,code:v,rate:i,date:(new Date).toISOString()}].concat(Object(d.a)(m)))},children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("label",{htmlFor:"currencyField",children:"Currency: "}),Object(j.jsx)("select",{onChange:function(e){l(e.target.value)},id:"currencyList",className:"converter__select",children:O.map((function(e,t){return Object(j.jsx)("option",{value:e.code,children:e.code},t)}))})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("input",{type:"number",step:"any",value:Number(t).toString(),onChange:function(e){s(Number(e.target.value/i).toFixed(2)),a(Number(e.target.value))},min:"0",id:"valuePLN",className:"converter__field",autoFocus:!0}),Object(j.jsx)("label",{htmlFor:"valuePLN",className:"converter__code",children:"PLN"})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("input",{type:"number",step:"any",value:Number(c).toString(),onChange:function(e){s(Number(e.target.value)),a(Number(e.target.value*i).toFixed(2))},min:"0",id:"currencyField",className:"converter__field"}),Object(j.jsx)("label",{htmlFor:"currencyField",className:"converter__code",children:v})]}),Object(j.jsxs)("p",{className:"converter__paragraph",children:[v," rate: ",Object(j.jsx)("span",{className:"converter__rate",children:i}),Object(j.jsx)("button",{className:"converter__button",children:"Save"})]})]})]})},m=(c(19),function(){return Object(j.jsx)("header",{className:"header",children:Object(j.jsx)("h1",{className:"header__header",children:"Currency Exchange"})})}),O=(c(20),function(e){var t=e.savedList,c=e.setSavedList;return Object(j.jsxs)("section",{className:"list",children:[Object(j.jsx)("h2",{className:"list__header",children:"Saved"}),t.length>0?Object(j.jsx)("button",{className:"list__clearListButton",onClick:function(){c([])},children:"Clear All"}):"",Object(j.jsx)("ul",{className:"list__savedList",children:t.map((function(e){return Object(j.jsxs)("li",{className:"list__savedPositions",title:Date(e.date)+" rate: "+e.rate,children:[Object(j.jsxs)("div",{className:"list_positionElement",children:[Object(j.jsx)("span",{className:"list__value",children:e.valPLN}),"\xa0",Object(j.jsx)("span",{className:"list__code",children:"PLN"}),"\xa0"]}),Object(j.jsx)("div",{className:"list_positionElement",children:"\xa0\u27a4\xa0"}),Object(j.jsxs)("div",{className:"list_positionElement",children:[Object(j.jsx)("span",{className:"list__value",children:e.valCUR}),"\xa0",Object(j.jsx)("span",{className:"list__code",children:e.code}),"\xa0"]}),Object(j.jsx)("div",{className:"list_positionElement",children:Object(j.jsx)("button",{className:"list__removeButton",onClick:function(){return t=e.id,void c((function(e){return e.filter((function(e){return e.id!==t}))}));var t},children:"\u2716"})})]},e.id)}))})]})});c(21);var h=function(){var e=Object(n.useState)([{currency:"LOADING",code:"USD",bid:6.66,ask:6.66}]),t=Object(u.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(u.a)(a,2),i=r[0],d=r[1],b=Object(n.useState)([]),h=Object(u.a)(b,2),f=h[0],x=h[1],N=Object(n.useState)(3.8551),_=Object(u.a)(N,2),g=_[0],p=_[1],S=Object(n.useState)("USD"),L=Object(u.a)(S,2),C=L[0],y=L[1],F=Object(n.useState)(1),P=Object(u.a)(F,2),k=P[0],D=P[1],w=Object(n.useState)(1),E=Object(u.a)(w,2),I=E[0],R=E[1];Object(n.useEffect)((function(){localStorage.getItem("savedList")&&x(JSON.parse(localStorage.getItem("savedList")))}),[]),Object(n.useEffect)((function(){localStorage.setItem("savedList",JSON.stringify(f))}),[f]);var U=Object(n.useCallback)(Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=23;break}return console.log("Connecting to NBP"),e.prev=2,e.next=5,fetch("https://api.nbp.pl/api/exchangerates/tables/C/?format=json");case 5:return t=e.sent,e.next=8,t.json();case 8:c=e.sent,console.log("Response received"),d(!0),s(c[0].rates),y(c[0].rates[0].code),p(c[0].rates[0].bid),D(Number(g).toFixed(2)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),console.log("Can't connect to NBP"),console.log(e.t0);case 21:e.next=24;break;case 23:return e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[2,17]])}))),[]);return Object(n.useEffect)((function(){U()}),[]),Object(j.jsxs)("main",{children:[Object(j.jsx)(m,{}),Object(j.jsxs)("div",{className:"box",children:[Object(j.jsx)(v,{setCurrency:y,currency:C,valuePLN:k,setValuePLN:D,valueCUR:I,setValueCUR:R,getBid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD";return c.filter((function(t){return t.code===e}))[0].bid},currencyList:c,setRate:p,rate:g,savedList:f,setSavedList:x}),Object(j.jsx)(O,{savedList:f,setSavedList:x})]})]})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,23)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),f()}],[[22,1,2]]]);
//# sourceMappingURL=main.ddf4e5ca.chunk.js.map