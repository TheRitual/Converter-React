(this["webpackJsonpconverter-react"]=this["webpackJsonpconverter-react"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(7),s=n.n(r),i=(n(14),n(15),n(16),n(2)),l=n(0),u=function(){var e=function(){var e=Object(c.useState)((new Date).toISOString()),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=setInterval((function(){a((new Date).toISOString())}),100);return function(){clearInterval(e)}}),[]),n}();return Object(l.jsxs)("section",{className:"clock",children:[Object(l.jsx)("div",{className:"clock__information",children:new Date(e).toLocaleString(void 0,{month:"long",weekday:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}),Object(l.jsx)("progress",{value:new Date(e).getMilliseconds()+1e3*new Date(e).getSeconds(),max:"60000",className:"clock__bar"})]})},o=n(9),d=function(e){var t=e.states,n=function(e,t){return Object(c.useEffect)((function(){e.setRate(t(e.currency)),e.setValueCUR(Number(e.valuePLN/e.rate).toFixed(2))}),[e.currency,e.rate]),{onChangeCurrency:function(t){e.setCurrency(t.target.value)},onValuePLNChange:function(t){e.setValueCUR(Number(t.target.value/e.rate).toFixed(2)),e.setValuePLN(Number(t.target.value))},onValueCURChange:function(t){e.setValueCUR(Number(t.target.value)),e.setValuePLN(Number(t.target.value*e.rate).toFixed(2))},save:function(t){t.preventDefault(),e.setSavedList([{valPLN:Number(e.valuePLN).toFixed(2),valCUR:Number(e.valueCUR).toFixed(2),id:e.savedList.length?e.savedList[0].id+1:0,code:e.currency,rate:e.rate,date:(new Date).toISOString()}].concat(Object(o.a)(e.savedList)))}}}(t,e.getBid),a=n.onChangeCurrency,r=n.onValuePLNChange,s=n.onValueCURChange,i=n.save;return Object(l.jsxs)("section",{className:"converter",children:[Object(l.jsx)("h2",{className:"converter__header",children:"Converter"}),Object(l.jsx)(u,{}),Object(l.jsxs)("form",{className:"converter__form",onSubmit:i,children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("label",{htmlFor:"currencyField",children:"Currency: "}),Object(l.jsx)("select",{onChange:a,id:"currencyList",className:"converter__select",children:t.currencyList.map((function(e,t){return Object(l.jsx)("option",{value:e.code,children:e.code},t)}))})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("input",{type:"number",step:"any",value:Number(t.valuePLN).toString(),onChange:r,min:"0",id:"valuePLN",className:"converter__field",autoFocus:!0}),Object(l.jsx)("label",{htmlFor:"valuePLN",className:"converter__code",children:"PLN"})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("input",{type:"number",step:"any",value:Number(t.valueCUR).toString(),onChange:s,min:"0",id:"currencyField",className:"converter__field"}),Object(l.jsx)("label",{htmlFor:"currencyField",className:"converter__code",children:t.currency})]}),Object(l.jsxs)("p",{className:"converter__paragraph",children:[t.currency," rate: ",Object(l.jsx)("span",{className:"converter__rate",children:t.rate}),Object(l.jsx)("button",{className:"converter__button",children:"Save"})]})]})]})},j=(n(18),function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("h1",{className:"header__header",children:"Currency Exchange"})})}),b=(n(19),function(e){var t=e.savedList,n=e.setSavedList;return Object(l.jsxs)("section",{className:"list",children:[Object(l.jsx)("h2",{className:"list__header",children:"Saved"}),t.length>0?Object(l.jsx)("button",{className:"list__clearListButton",onClick:function(){n([])},children:"Clear All"}):"",Object(l.jsx)("ul",{className:"list__savedList",children:t.map((function(e){return Object(l.jsxs)("li",{className:"list__savedPositions",title:Date(e.date)+" rate: "+e.rate,children:[Object(l.jsxs)("div",{className:"list_positionElement",children:[Object(l.jsx)("span",{className:"list__value",children:e.valPLN}),"\xa0",Object(l.jsx)("span",{className:"list__code",children:"PLN"}),"\xa0"]}),Object(l.jsx)("div",{className:"list_positionElement",children:"\xa0\u27a4\xa0"}),Object(l.jsxs)("div",{className:"list_positionElement",children:[Object(l.jsx)("span",{className:"list__value",children:e.valCUR}),"\xa0",Object(l.jsx)("span",{className:"list__code",children:e.code}),"\xa0"]}),Object(l.jsx)("div",{className:"list_positionElement",children:Object(l.jsx)("button",{className:"list__removeButton",onClick:function(){return t=e.id,void n((function(e){return e.filter((function(e){return e.id!==t}))}));var t},children:"\u2716"})})]},e.id)}))})]})}),v=(n(20),n(6)),m=n.n(v),h=n(8),O=function(){var e=function(e,t){var n=Object(c.useState)((function(){var n=localStorage.getItem(e);return null===n?t:JSON.parse(n)})),a=Object(i.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[r]),[r,s]}("savedList",[]),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([{currency:"LOADING",code:"USD",bid:6.66,ask:6.66}]),s=Object(i.a)(r,2),l=s[0],u=s[1],o=Object(c.useState)(3.8551),d=Object(i.a)(o,2),j=d[0],b=d[1],v=Object(c.useState)("USD"),m=Object(i.a)(v,2),h=m[0],O=m[1],f=Object(c.useState)(1),N=Object(i.a)(f,2),x=N[0],g=N[1],_=Object(c.useState)(1),p=Object(i.a)(_,2);return{currencyList:l,setCurrencyList:u,rate:j,setRate:b,currency:h,setCurrency:O,valuePLN:x,setValuePLN:g,valueCUR:p[0],setValueCUR:p[1],savedList:n,setSavedList:a}};var f=function(){var e=O();return function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useCallback)(Object(h.a)(m.a.mark((function t(){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=23;break}return console.log("Connecting to NBP"),t.prev=2,t.next=5,fetch("https://api.nbp.pl/api/exchangerates/tables/C/?format=json");case 5:return n=t.sent,t.next=8,n.json();case 8:c=t.sent,console.log("Response received"),r(!0),e.setCurrencyList(c[0].rates),e.setCurrency(c[0].rates[0].code),e.setRate(c[0].rates[0].bid),e.setValuePLN(Number(e.rate).toFixed(2)),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),console.log("Can't connect to NBP"),console.log(t.t0);case 21:t.next=24;break;case 23:return t.abrupt("return",null);case 24:case"end":return t.stop()}}),t,null,[[2,17]])}))),[]);Object(c.useEffect)((function(){s()}),[])}(e),Object(l.jsxs)("main",{children:[Object(l.jsx)(j,{}),Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)(d,{states:e,getBid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD";return e.currencyList.filter((function(e){return e.code===t}))[0].bid}}),Object(l.jsx)(b,{savedList:e.savedList,setSavedList:e.setSavedList})]})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root")),N()}],[[22,1,2]]]);
//# sourceMappingURL=main.893c1324.chunk.js.map