(this["webpackJsonpconverter-react"]=this["webpackJsonpconverter-react"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,c){},,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(7),s=c.n(r),l=(c(14),c(6)),i=c.n(l),u=c(8),o=c(2),j=c(9),b=(c(16),c(0)),d=function(e){return Object(b.jsxs)("section",{className:"converter",children:[Object(b.jsx)("h2",{className:"converter__header",children:"Converter"}),Object(b.jsxs)("form",{className:"converter__form",onSubmit:function(t){t.preventDefault(),console.log("saving position"),e.setSavedList([{valPLN:Number(e.valuePLN).toFixed(2),valCUR:Number(e.valueCUR).toFixed(2),rate:e.rate,code:e.currency}].concat(Object(j.a)(e.savedList)))},children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("label",{htmlFor:"currencyField",children:"Currency: "}),Object(b.jsx)("select",{onChange:function(t){e.setCurrency(t.target.value),e.setRate(e.getRate(t.target.value)),e.setValueCUR(Number(e.valuePLN/e.rate).toFixed(2))},id:"currencyList",className:"converter__select",children:e.currencyList.map((function(e,t){return Object(b.jsx)("option",{value:e.code,children:e.code},t)}))})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("input",{type:"number",step:"any",value:Number(e.valuePLN).toString(),onChange:function(t){e.setValuePLN(Number(t.target.value)),e.setValueCUR(Number(t.target.value/e.rate).toFixed(2))},min:"0",id:"valuePLN",className:"converter__field",autoFocus:!0}),Object(b.jsx)("label",{htmlFor:"valuePLN",className:"converter__code",children:"PLN"})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("input",{type:"number",step:"any",value:Number(e.valueCUR).toString(),onChange:function(t){e.setValueCUR(Number(t.target.value)),e.setValuePLN(Number(t.target.value*e.rate).toFixed(2))},min:"0",id:"currencyField",className:"converter__field"}),Object(b.jsx)("label",{htmlFor:"currencyField",className:"converter__code",children:e.currency})]}),Object(b.jsxs)("p",{className:"converter__paragraph",children:[e.currency," rate: ",Object(b.jsx)("span",{className:"converter__rate",children:e.rate}),Object(b.jsx)("button",{className:"converter__button",children:"Save"})]})]})]})},v=(c(18),function(){return Object(b.jsx)("header",{className:"header",children:Object(b.jsx)("h1",{className:"header__header",children:"Currency Exchange"})})}),h=(c(19),function(e){var t=e.savedList;return Object(b.jsxs)("section",{className:"list",children:[Object(b.jsx)("h2",{className:"list__header",children:"Saved"}),Object(b.jsx)("ul",{className:"list__savedList",children:t.map((function(e,t){return Object(b.jsxs)("li",{className:"list__savedPositions",children:[e.valPLN,"\xa0",Object(b.jsx)("span",{className:"list__code",children:"PLN"}),"\xa0\u27a4\xa0",e.valCUR,"\xa0",Object(b.jsx)("span",{className:"list__code",children:e.code})]},t)}))})]})});c(20);var O=function(){var e=Object(n.useState)([{currency:"loading",code:"LOADING",bid:6.66,ask:6.66}]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(o.a)(r,2),l=s[0],j=s[1],O=Object(n.useState)([]),m=Object(o.a)(O,2),N=m[0],x=m[1],p=Object(n.useState)(3.8551),f=Object(o.a)(p,2),_=f[0],g=f[1],L=Object(n.useState)("LOADING"),C=Object(o.a)(L,2),y=C[0],P=C[1],S=Object(n.useState)(1),F=Object(o.a)(S,2),R=F[0],U=F[1],k=Object(n.useState)(1),V=Object(o.a)(k,2),D=V[0],w=V[1],B=Object(n.useCallback)(Object(u.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=23;break}return console.log("Connecting to NBP"),e.prev=2,e.next=5,fetch("https://api.nbp.pl/api/exchangerates/tables/C/?format=json");case 5:return t=e.sent,e.next=8,t.json();case 8:c=e.sent,console.log("Response received"),j(!0),a(c[0].rates),P(c[0].rates[0].code),g(c[0].rates[0].bid),U(Number(_).toFixed(2)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),console.log("Can't connect to NBP"),console.log(e.t0);case 21:e.next=24;break;case 23:return e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[2,17]])}))),[_,l]);return Object(n.useEffect)((function(){B()}),[B]),Object(b.jsxs)("main",{children:[Object(b.jsx)(v,{}),Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)(d,{setCurrency:P,currency:y,valuePLN:R,setValuePLN:U,valueCUR:D,setValueCUR:w,getRate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD";return c.filter((function(t){return t.code===e}))[0].bid},currencyList:c,setRate:g,rate:_,savedList:N,setSavedList:x}),Object(b.jsx)(h,{savedList:N,setSavedList:x})]})]})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,22)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),m()}],[[21,1,2]]]);
//# sourceMappingURL=main.e0b9b0f2.chunk.js.map